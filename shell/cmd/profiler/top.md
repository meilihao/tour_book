# top

> 默认刷新频率: 3s.

## 描述

实时动态地查看系统的整体运行情况，是一个综合了多方信息监测系统性能和运行信息的实用工具.

第一行(uptime的输出):
1. 当前时间
1. 已运行的时间
1. 目前有多少用户登录
1. 过去 1，5 和 15 分钟内的 CPU 负载(TASK_RUNNING + TASK_UNINTERRUPTIBLE进程总和的平均值). 这不是规范化的，所以负载均值为 1 意味着单个 CPU 的满负载，但是在 4 个 CPU 的系统上，这意味着它有 75% 空闲时间.

第二行(Tasks):
1. 进程总数
1. 当前正在执行的进程数
1. 当前正在睡眠的进程数
1. 被停止的进程数(例如使用CTRL + Z)
1. 已经停止（`僵尸`）的进程数量，已终止，但未由其父进程回收

第三行(CPU):
1. 运行非nice的用户进程的时间
1. 运行内核进程的时间
1. 运行nice的用户进程的时间
1. 空闲花费的时间
1. 等待 I/O 花费的时间
1. 处理硬件中断花费的时间
1. 处理软件中断花费的时间
1. 由管理程序hypervisor从这个虚拟机`偷走`的时间，用于其他任务(例如启动另一个虚拟机)

第四行(Mem):
1. 物理内存总量
1. 完全空闲的物理内存
1. 已使用的物理内存
1. 用作buff和cache的内存 

第五行(Swap):
1. swap总量
1. 空闲的swap
1. 已使用的swap
1. 系统实际可用的空闲内存, 来自`/proc/meminfo`的MemAvailable

第六行(进程信息):
- PID : 进程id/标识符
- USER : 任务所有者的有效用户名
- PR : 任务的优先级
- NI : 任务的nice值. 负的优先值表示更高的优先级，而正的优先值表示较低的优先级。零表示没有调整.
- VIRT : 任务使用的虚拟内存总量. 它包括所有代码，数据和共享库, 交换出的分页以及已被映射但未被使用的页面.
- RES : 常驻内存大小, 即任务已使用的物理内存
- SHR : 任务使用的共享内存量. 它只是反映可能与其他进程共享的内存.
- S : 任务的状态可以是以下之一：D=不可中断的睡眠，R=运行，S=睡眠，T=跟踪或停止，Z=僵尸
- %CPU : 占cpu总时间的百分比
- %MEM : 任务当前使用的可用物理内存的份额
- TIME+ : 任务使用CPU的 时间
- COMMAND命令 : 命令行或程序名称

## 选项
- -d N : 整个界面更新的秒数，默认是5秒
- -p PID : 监控指定的进程

## 快捷键

- P : 根据CPU使用百分比大小进行排序
- M : 根据驻留内存大小进行排序
- i : 使top不显示任何闲置或者僵死进程
- ? : 显示在 top 当中可以输入的按键命令
