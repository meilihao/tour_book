# tcpdump

## 描述

根据使用者的定义对网络上的数据包进行截获的包分析工具,常与wireshark组合使用(tcpdump捕获数据,再用wireshark分析)

信息来自驱动.

## 选项
- -d ：把编译过的数据包编码转换成可阅读的格式，并在stdout输出
- -dd ：把编译过的数据包编码转换成C语言的格式，并在stdout输出
- -ddd ：把编译过的数据包编码转换成十进制数字的格式，并在stdout输出
- -D : 输出tcpdum可用的接口列表
- -e : 显示链路层头部
- -f ：用数字显示网际网络地址
- -F : 使用文件作为输入的过滤表达式, 忽略命令行上的表达式
- -G rotate_second : 指定`-w`的轮转时间
- -i : 指定监听的网络接口
- -n : 不将主机地址转换成名称, 避免dns查询
- -nn : 不要转换协议和端口号到名称
- -O : 不使用数据包匹配代码优化器
- -q ：快速输出，仅列出少数的传输协议信息
- -r file : 从file(由`-w`创建)中读取信息. 如果来源是stdin则file是`-`
- -S : 输出绝对的TCP序列号,而不是相对的
- -T <数据包类型> ：强制将表达方式所指定的数据包转译成指定的数据包类型
- -v ：详细显示指令执行过程
- -vv ：更详细显示指令执行过程
- -x ：用十六进制字码列出数据包内容
- -X : 用hex格式输出数据包的报头和内容
- -w : 将捕获的数据写入文件

## 字段
tcpdump停止捕获数据包时:
- packets captured : tcp接收并处理的数据包的数量
- packets received by filter : 取决于运行tcpdump的os及该os的相关配置
- packets dropped by kernel : 由于缓冲区空间不足而丢包的数量

## 例子
    # tcpdump -i lo host 127.0.0.1 and port 8210  -w out.cap # 捕获发送到127.0.0.1:8210的数据
