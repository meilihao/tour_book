## 收集信息

### OS

```
$ uname -a
$ lsb_release -a
$ cat /etc/issue
```

### 硬件

```
$ cat /proc/cpuinfo # cpu信息
$ cat /proc/cpuinfo | grep processor | wc -l # cpu核数
$ cat /proc/meminfo # 内存信息
$ pagesize # 内存page大小,单位为K
$ arch # 显示架构
$ ipcs # 查看系统使用的IPC资源
$ ipcs -m # 查看系统使用的IPC共享内存资源
$ ipcs -q # 查看系统使用的IPC队列资源
$ ipcs -s # 查看系统使用的IPC信号量资源
$ ulimit -a # 显示当前所有的系统资源limit信息
$ ulimit -c unlimited # 对生成的 core 文件的大小不进行限制
$ getconf LONG_BIT # cpu当前运行模式:32/64
$ lshw -c video # 查看显卡信息
$ lspci |grep VGA # 查看显卡信息
# smartctl -a  /dev/sdb # 查看磁盘SMART信息和温度
# smartctl -A /dev/sdb # 查看磁盘SMART信息和温度
# smartctl -x  /dev/sdb # 显示磁盘所有信息，包括SAS地址等
# smartctl -H /dev/sdb # 查看磁盘健康状态
# [/usr]/lib/udev/scsi_id -x -g /dev/sda # 获取磁盘的详细信息
# udevadm info /dev/sda # 获取磁盘的详细信息. udevinfo已被udevadm info取代
```

#### 光纤
```bash
# lspci  | grep -i fibre # 查看fc HBA卡, 通常一块光纤卡有两个光纤口
# cat /sys/class/fc_host/host<N>/port_name # 查看fc HBA卡WWN信息
# systool -v -c fc_host # 获取详细的光纤卡信息, from `apt install sysfsutils`
```

### 探测文件系统
未挂载:
- `blkid`
- `parted /dev/zd64 p`, **推荐**

已挂载
- `mount -t xfs`
- `df -T`

### 显卡
```bash
# dpkg --get-selections | grep xserver-xorg-video # 查看已安装的显卡驱动
```

### core dump
查询core dump文件路径：`/sbin/sysctl kernel.core_pattern` from `/proc/sys/kernel/core_pattern`.

### 代码统计
```bash
# apt install cloc
# cloc .
```